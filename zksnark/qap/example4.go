package qap

// f(x1, x2, x3, x5) = x1 * (x2 - 2 * x3) * (x5 + 7 * x6)
//                   = x4 * (x5 + 7 * x6)
//                   = f2(x4, x5, x6)
//                   = x7

// a1 * (a2 - 2 * a3) = a4

// a1 =  4 | a2 =  7 | a3 =  3 | a4 =  4 | a5 =  2 | a6 =  1 | a7 = 36

// f1(x1, x2, x3) = x1 * (x2 - 2 * x3)
//                = p1(x1, x2, x3) * p2(x1, x2, x3)
//                = x4
//                = 4

// p1(x1, x2, x3) = v1_{0} + v1_{1} * x_{1} + v1_{2} * x_{2} + v1_{3} * x_{3} + v1_{4} * x_{4} + v1_{5} * x_{5} + v1_{6} * x_{6} + v1_{7} * x_{7}
//                =   0    +     1  *  a1   +     0  *  a2   +     0  *  a3   +     0  *  a4   +     0  *  a5   +     0  *  a6   +     0  *  a7
//                = 1 * 4

// p2(x1, x2, x3) = w1_{0} + w1_{1} * x_{1} + w1_{2} * x_{2} + w1_{3} * x_{3} + w1_{4} * x_{4} + w1_{5} * x_{5} + w1_{6} * x_{6} + w1_{7} * x_{7}
//                =   0    +     0  *  a1   +     1  *  a2   +  (-2)  *  a3   +     0  *  a4   +     0  *  a5   +     0  *  a6   +     0  *  a7
//                = 1 * 7 + (-2) * 3

// I_{1} = {1, 2, 3, 4}

/* # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                                                                                                            #
#        x2       x3        a2       a3        7       3                      p1(a1, a2, a3) * p2(a1, a2, a3) - a4 = (1 * a4) * (1 * a2 + (-2) * a3) - a4    #
#          \     /            \     /           \     /                                                            = (1 * 4) * (1 * 7 + (-2) * 3) - 4        #
#           \   * 2            \   * 2           \   * 2                                                           = 0                                       #
#            \ /                \ /               \ /                                                                                                        #
#    x1       -         a1       -         4       -                                                                                                         #
#      \     /            \     /           \     /                                                                                                          #
#       \   /              \   /             \   /                                                                                                           #
#        \ /                \ /               \ /                                                                                                            #
#         *                  *                 *                                                                                                             #
#         |                  |                 |                                                                                                             #
#         |                  |                 |                                                                                                             #
#         |                  |                 |                                                                                                             #
#  f1(x1, x2, x3)            a4                4                                                                                                             #
#                                                                                                                                                            #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # */

// f2(x4, x5, x6) = x4 * (x5 + 7 * x6)
//                = p1(x4, x5, x6) * p2(x4, x5, x6)
//                = 4 * (2 + 7 * 1)
//                = x7
//                = 36

// p1(x4, x5, x6) = v2_{0} + v2_{1} * x_{1} + v2_{2} * x_{2} + v2_{3} * x_{3} + v2_{4} * x_{4} + v2_{5} * x_{5} + v2_{6} * x_{6} + v2_{7} * x_{7}
//                =   0    +     0  *  a1   +     0  *  a2   +     0  *  a3   +     1  *  a4   +     0  *  a5   +     0  *  a6   +     0  *  a7
//                = 1 * 4

// p2(x4, x5, x6) = w2_{0} + w2_{1} * x_{1} + w2_{2} * x_{2} + w2_{3} * x_{3} + w2_{4} * x_{4} + w2_{5} * x_{5} + w2_{6} * x_{6} + w2_{7} * x_{7}
//                =   0    +     0  *  a1   +     0  *  a2   +     0  *  a3   +     0  *  a4   +     1  *  a5   +     7  *  a6   +     0  *  a7
//                = 1 * 2 + 7 * 1

// I_{2} = {5, 6, 7}

/* # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                                                                                                            #
#          x5       x6        a5      a6         2        1                          p1(a4, a5, a6) * p2(a4, a5, a6) - a7 = (1 * a4) * (a5 + 7 * a6) - a7    #
#            \     /            \     /           \      /                                                                = (1 * 4) * (2 +  7 * 1) - 36      #
#             \   * 7            \   * 7           \    * 7                                                               = 0                                #
#              \ /                \ /               \ /                                                                                                      #
#      x4       +         a4       +         4       +                                                                                                       #
#        \     /            \     /           \     /                                                                                                        #
#         \   /              \   /             \   /                                                                                                         #
#          \ /                \ /               \ /                                                                                                          #
#           *                  *                 *                                                                                                           #
#           |                  |                 |                                                                                                           #
#           |                  |                 |                                                                                                           #
#           |                  |                 |                                                                                                           #
#    f(x4, x5, x6)             a7                36                                                                                                          #
#                                                                                                                                                            #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # */

// v0(r1) =   0, v0(r2) =   0 | w0(r1) =   0, w0(r2) =   0 | y0(r1) =  0, y0(r2) =  0
// v1(r1) =   1, v1(r2) =   0 | w1(r1) =   0, w1(r2) =   0 | y1(r1) =  0, y1(r2) =  0
// v2(r1) =   0, v2(r2) =   0 | w2(r1) =   1, w2(r2) =   0 | y2(r1) =  0, y2(r2) =  0
// v3(r1) =   0, v3(r2) =   0 | w3(r1) =  -2, w3(r2) =   0 | y3(r1) =  0, y3(r2) =  0
// v4(r1) =   0, v4(r2) =   1 | w4(r1) =   0, w4(r2) =   0 | y4(r1) =  1, y4(r2) =  0
// v5(r1) =   0, v5(r2) =   0 | w5(r1) =   0, w5(r2) =   1 | y5(r1) =  0, y5(r2) =  0
// v6(r1) =   0, v5(r2) =   0 | w6(r1) =   0, w6(r2) =   7 | y5(r1) =  0, y6(r2) =  0
// v7(r1) =   0, v5(r2) =   0 | w7(r1) =   0, w7(r2) =   0 | y5(r1) =  0, y7(r2) =  1

// Use the constraints to define interpolation polynomials for the QAP.

//
// v(x) =
//

//                         |                x - r2   |                         |
// v0(x) =        0        | v1(x) = 1 * ----------- | v2(x) =        0        | v3(x) =        0
//                         |               r1 - r2   |                         |

//                x - r1   |                         |                         |
// v4(x) = 1 * ----------- | v5(x) =     0           | v6(x) =        0        | v7(x) =        0
//               r2 - r1   |                         |                         |

//
// w(x) =
//

//                         |                         |                x - r2   |                 x - r2
// w0(x) =        0        | w1(x) =        0        | w2(x) = 1 * ----------- | w3(x) = -2 * -----------
//                         |                         |               r1 - r2   |                r1 - r2

//                         |                 x - r1  |                x - r1   |
// w4(x) =        0        | w5(x) = 1 * ----------- | w6(x) = 7 * ----------- | w7(x) =        0
//                         |                r2 - r1  |               r2 - r1   |

//
// y(x) =
//

//                         |                         |                         |
// y0(x) =        0        | y1(x) =        0        | y2(x) =        0        | y3(x) =        0
//                         |                         |                         |

//                x - r2   |                         |                         |                x - r1
// y4(x) = 1 * ----------- | y5(x) =        0        | y6(x) =        0        | y7(x) = 1 * -----------
//               r1 - r2   |                         |                         |               r2 - r1

// The assignment variables including those that are intermediate for the
// circuit are: a1 = 4, a2 = 7, a3 = 3, a4 = 4, a5 = 2, a6 = 1, and a7 = 36. To
// check the polynomials as defined are correct the relation can be evaluated at
// r1 and r2 to see if it has the expected result of 0.

// (v0 + v1 * a1 + v2 * a2 + v3 * a3 + v4 * a4 + v5 * a5 + v6 * a6 + v7 * a7) * (w0 + w1 * a1 + w2 * a2 + w3 * a3 + w4 * a4 + w5 * a5 + w6 * a6 + w7 * a7)
//                         = (y0 + y1 * a1 + y2 * a2 + y3 * a3 + y4 * a4)

// at r1 - > (0 + 1 * 4 + 0 * 7 + 0 * 3 + 0 * 4 + 0 * 2 + 0 * 1 + 0 * 36) * (0 + 0 * 4 + 1 * 7 + (-2) * 3 + 0 * 4 + 0 * 2 + 0 * 1 + 0 * 36)
//       - >                    = (0 + 0 * 4 + 0 * 7 + 0 * 3 + 1 * 4 + 0 * 2 + 0 * 1 + 0 * 36)
//       - >              4 * 1 = 4

// at r2 - > (0 + 0 * 4 + 0 * 7 + 0 * 3 + 1 * 4 + 0 * 2 + 0 * 1 + 0 * 36) * (0 + 0 * 4 + 0 * 7 + 0 * 3 + 0 * 4 + 1 * 2 + 7 * 1 + 0 * 36)
//       - >                    = (0 + 0 * 4 + 0 * 7 + 0 * 3 + 0 * 4 + 0 * 2 + 0 * 1 + 1 * 36)
//       - >              4 * 9 = 36
