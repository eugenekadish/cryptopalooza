package qap

// f(x1) = x1 * x1 * x1 + x1 + 5
//       =    x1 * x2   + x1 + 5
//       =      x3      + x1 + 5
//       = f2(x1, x3)
//       = x4

// a1 * a1 * a1 + a1 + 5 = a4

// This relation is satisfied for a1 = 3 and a4 = 35. The indices 2 and 3 are
// skipped for convenience, because they will be used for an intermediate
// result for the QAP composition.

// f1(x1) = x1 * x1
//        = (x1) * (x1)
//        = p1(x1) * p2(x1)
//        = x2
//        = 9

// p1(x1) = v1_{0} + v1_{1} * x_{1} + v1_{2} * x_{2} + v1_{3} * x_{3} + v1_{4} * x_{4}
//        =   0    +     1  *  a1   +     0  *  a2   +     0  *  a3   +     0  *  a4
//        = 1 * 3

// p2(x1) = w1_{0} + w1_{1} * x_{1} + w1_{2} * x_{2} + w1_{3} * x_{3} + w1_{4} * x_{4}
//        =   0    +     0  *  a1   +     1  *  a2   +     0  *  a3   +     0  *  a4
//        = 1 * 3

// I_{1} = {1}

/* # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                                                                                                            #
#    x1       x1    a1       a1    3       3                                                              p1(a1) * p2(a1) - a2 = (1 * a1) * (1 * a1) - a2    #
#      \     /        \     /       \     /                                                                                    = 1 * 3 * 1 * 3 - 9           #
#       \   /          \   /         \   /                                                                                     = 0                           #
#        \ /            \ /           \ /                                                                                                                    #
#         *              *             *                                                                                                                     #
#         |              |             |                                                                                                                     #
#         |              |             |                                                                                                                     #
#         |              |             |                                                                                                                     #
#      f1(x1)            a2            9                                                                                                                     #
#                                                                                                                                                            #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # */

// f2(x1, x2) = x1 * x2
//            = (x1) * (x2)
//            = p1(x1, x2) * p2(x1, x2)
//            = x3
//            = 27

// p1(x1) = v1_{0} + v1_{1} * x_{1} + v1_{2} * x_{2} + v1_{3} * x_{3} + v1_{4} * x_{4}
//        =   0    +     1  *  a1   +     0  *  a2   +     0  *  a3   +     0  *  a4
//        = 1 * 3

// p2(x1) = w1_{0} + w1_{1} * x_{1} + w1_{2} * x_{2} + w1_{3} * x_{3} + w1_{4} * x_{4}
//        =   0    +     0  *  a1   +     1  *  a2   +     0  *  a3   +     0  *  a4
//        = 1 * 9

// I_{1} = {1, 2}

/* # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                                                                                                            #
#    x1       x2    a1       a2    3       9                                                              p1(a1) * p2(a1) - a2 = (1 * a1) * (1 * a2) - a3    #
#      \     /        \     /       \     /                                                                                    = 1 * 3 * 1 * 9 - 27          #
#       \   /          \   /         \   /                                                                                     = 0                           #
#        \ /            \ /           \ /                                                                                                                    #
#         *              *             *                                                                                                                     #
#         |              |             |                                                                                                                     #
#         |              |             |                                                                                                                     #
#         |              |             |                                                                                                                     #
#     f(x1, x2)          a3            27                                                                                                                    #
#                                                                                                                                                            #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # */

// f3(x1, x3) = x3 + x1 + 5
//            = 1 * (1 * x1 + 1 * x3 + 5)
//            = p1(x1, x3) * p2(x1, x3)
//            = x4
//            = 35

// p2(x1, x2) = v1_{0} + v1_{1} * x_{1} + v1_{2} * x_{2} + v1_{3} * x_{3} + v1_{4} * x_{4}
//            =   5    +     1  *  a1   +     0  *  a2   +     1  *  a3   +     0  *  a4
//            = 5 + 1 * 3 + 1 * 27

// p2(x1, x2) = w1_{0} + w1_{1} * x_{1} + w1_{2} * x_{2} + w1_{3} * x_{3} + w1_{4} * x_{4} + w1_{5} * x_{5}
//            =   5    +     1  *  a1   +     0  *  a2   +     1  *  a3   +     0  *  a4
//            = 1 * 2

// I_{1} = {1, 2, 3}

/* # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                                                                                                            #
#    x1       x2    a1       a2    3       2                                                           p1(a1, a2) * p2(a1, 2) - a3 = (4 * a1) * (a2) - a3    #
#      \     /        \     /       \     /                                                                                        = 4 * 3 * 2 - 24          #
#     4 *   /        4 *   /       4 *   /                                                                                         = 0                       #
#        \ /            \ /           \ /                                                                                                                    #
#         *              *             *                                                                                                                     #
#         |              |             |                                                                                                                     #
#         |              |             |                                                                                                                     #
#         |              |             |                                                                                                                     #
#     f(x1, x2)          a3            24                                                                                                                    #
#                                                                                                                                                            #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # */

// f2(x3, x4, x5) = x3 - 7 * x2 + 3 * x4
//                = 1 * ((-7) * x2 + 1 * x3 + 3 * x4)
//                = p1(x2, x3, x4) * p2(x2, x3, x4)
//                = x5
//                = 13

// p1(x2, x3, x4) = v2_{0} + v2_{1} * x_{1} + v2_{2} * x_{2} + v2_{3} * x_{3} + v2_{4} * x_{4} + v2_{5} * x_{5}
//                =   1    +     0  *  a1   +     0  *  a2   +     0  *  a3   +     0  *  a4   +     0  *  a5
//                = 1

// p2(x3, x4, x5) = w2_{0} + w2_{1} * x_{1} + w2_{2} * x_{2} + w2_{3} * x_{3} + w2_{4} * x_{4} + w2_{5} * x_{5}
//                =   0    +     0  *  a1   +  (-7)  *  a2   +     1  *  a3   +     3  *  a4   +     0  *  a5
//                = (-7) * 2 + 1 * 24 + 3 * 1

// I_{2} = {2, 3, 4, 5}

/* # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#                                                                                                                                                            #
#          x3       x5      a3       a5     24       2                             p(a3, a4, a5) * p(a3, a4, a5) - a6 = (1) * (a3 + 3 * a4 - 7 * a5) - a6    #
#            \     /          \     /         \     /                                                                 = (1) * (24 + 3 * 1 - 7 * 2) - 13      #
#             \   * 7          \   * 7         \   * 7                                                                = 0                                    #
#              \ /              \ /             \ /                                                                                                          #
#      x4       -       a4       -       1       -                                                                                                           #
#        \     /          \     /         \     /                                                                                                            #
#       3 *   /          3 *   /         3 *   /                                                                                                             #
#          \ /              \ /             \ /                                                                                                              #
#           +                +               +                                                                                                               #
#           |                |               |                                                                                                               #
#           * 1              * 1             * 1                                                                                                             #
#           |                |               |                                                                                                               #
#    f2(x3, x4, x5)          a6              13                                                                                                              #
#                                                                                                                                                            #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # */

// v0(r1) =   0, v0(r2) =   1 | w0(r1) =   0, w0(r2) =   0 | y0(r1) =  0, y0(r2) =  0
// v1(r1) =   4, v1(r2) =   0 | w1(r1) =   0, w1(r2) =   0 | y1(r1) =  0, y1(r2) =  0
// v2(r1) =   0, v2(r2) =   0 | w2(r1) =   1, w2(r2) =  -7 | y2(r1) =  0, y2(r2) =  0
// v3(r1) =   0, v3(r2) =   0 | w3(r1) =   0, w3(r2) =   1 | y3(r1) =  1, y3(r2) =  0
// v4(r1) =   0, v4(r2) =   0 | w4(r1) =   0, w4(r2) =   3 | y4(r1) =  0, y4(r2) =  0
// v5(r1) =   0, v5(r2) =   0 | w5(r1) =   0, w5(r2) =   0 | y5(r1) =  0, y5(r2) =  1

// Use the constraints to define interpolation polynomials for the QAP.

//                x - r1   |                                              |
// v0(x) = 1 * ----------- | w0(x) =                 0                    | y0(x) =          0
//               r2 - r1   |                                              |

//                x - r2   |                                              |
// v1(x) = 4 * ----------- | w1(x) =                 0                    | y4(x) =          0
//               r1 - r2   |                                              |

//                         |                x - r2               x - r1   |
// v2(x) =          0      | w2(x) = 1 * ----------- + (-7) * ----------- | y2(x) =          0
//                         |               r1 - r2              r2 - r1   |

//                         |                       x - r1                 |                x - r2
// v3(x) =          0      | w3(x) =        1 * -----------               | y3(x) = 1 * -----------
//                         |                      r2 - r1                 |               r1 - r2

//                         |                       x - r1                 |
// v4(x) =          0      | w4(x) =        3 * -----------               | y4(x) =          0
//                         |                      r2 - r1                 |

//                         |                                              |                x - r1
// v5(x) =          0      | w5(x) =                 0                    | y5(x) = 1 * -----------
//                         |                                              |               r2 - r1

// The assignment variables including those that are intermediate for the
// circuite are: a1 = 3, a2 = 2, a3 = 24, a4 = 1, and a5 = 13. To check the
// polynomials as defined are correct the relation can be evaluated at r1 and
// r2 to see if has the expected result of 0.

// (v_{0} + \Sigma_{k = 1}^{5} a_{k} * v_{k}(x)) (w_{0} + \Sigma_{k = 1}^{5} a_{k} * w_{k}(x)) - (y_{0} + \Sigma_{k = 1}^{5} a_{k} * y_{k}(x))
//       = (v0(x) + 3 * v1(x)) (2 * w2(x) + 24 * w3(x) + 1 * w4(x)) - (24 * y3(x) + 13 * y5(x))

// at r1 = (0 + 3 * 4) (2 * 1 + 24 * 0 + 1 * 0) - (24 * 1 + 13 * 0) = (12)(2) - 24 = 0
// at r2 = (1 + 3 * 0) (2 * (-7) + 24 * 1 + 1 * 3) - (24 * 0 + 13 * 1) = (1)(13) - 13 = 0

// E2QAP creates a QAP (Quadratic Arithmetic Program) for the arithmetic
// expression.
func E3QAP() bool {

	return true
}

// E3SQAP creates a strong QAP for the arithmetic expression, as well as
// generates and then verifies the SNARK.
func E3SQAP() bool {

	return true
}

// E3R1CS generates the Quadratic Arithmetic Program to validate arithmetic circuits in Zero Knowledge
func E3R1CS() bool {

	return true
}
